<div class="main_page">
  <button (click)="togglePollCreation()">Create Your Own Poll</button>
  @if (isCreatingPoll){
    <div>
      <label for="question">Question</label>
      <input type="text" id="question" name="question" [(ngModel)]="questionField">
      <ul>
        @for (op of optionsFields; track op; let i = $index) {
          <li>
            <label for="option">Option {{i+1}}:</label>
            <input type="text" id="option" name="option" [(ngModel)]="optionsFields[i]">
          </li>
          <br>
        }
        <button (click)="addOptionField()">Add Option</button>
      </ul>
      <button (click)="createNewPoll()">Create Poll</button>
    </div>
  }
  <!--Show all polls in the database-->
  <!--For every poll in in the loaded results, repeat this div element-->
  <div *ngFor="let poll of allPolls" class="poll_element">
    <p class="poll_question">{{ poll.question }}</p>
    <!--For every option inside this poll, repeat this list element-->
    <ul *ngFor="let option of poll.options">
      <li class="poll_option"><button (click)="select(poll, option)">{{option}}</button></li>
    </ul>
  </div>
</div>